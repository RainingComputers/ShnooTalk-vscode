{
    "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
    "name": "ShnooTalk",
    "patterns": [
        {
            "comment": "Single line comment",
            "name": "comment.line.number-sign.shnootalk",
            "match": "#[^\n\r]*"
        },
        {
            "comment": "Keywords",
            "name": "keyword.control.shnootalk",
            "match": "\\b(use|as|from|begin|end|if|elif|else|while|do|for|loop|break|continue|return|void)\\b"
        },
        {
            "comment": "Conditional operators",
            "name": "keyword.operator.shnootalk",
            "match": "\\b(and|or|not)\\b"
        },
        {
            "comment": "String literal",
            "name": "string.quoted.double.shnootalk",
            "begin": "\"",
            "end": "\"",
            "patterns": [
                {
                    "name": "constant.character.escape.shnootalk",
                    "match": "\\\\."
                }
            ]
        },
        {
            "comment": "Hex literal",
            "name": "constant.numeric.integer.hexadecimal.shnootalk",
            "match": "\\b(0x[a-fA-f0-9]+)\\b"
        },
        {
            "comment": "Bin literal",
            "name": "constant.numeric.shnootalk",
            "match": "\\b(0b[0-1]+)\\b"
        },
        {
            "comment": "Float literal",
            "name": "constant.numeric.shnootalk",
            "match": "\\b([0-9]*\\.[0-9]+)\\b"
        },
        {
            "comment": "Character literal",
            "name": "string.quoted.single.shnootalk",
            "match": "'\\\\?.'"
        },
        {
            "comment": "Integer literal",
            "name": "constant.numeric.shnootalk",
            "match": "\\b([0-9]+)\\b"
        },
        {
            "comment": "Boolean literal",
            "name": "constant.language.boolean.shnootalk",
            "match": "\\b(true|false)\\b"
        },
        {
            "comment": "Declaration type",
            "name": "storage.type.shnootalk",
            "match": "\\b(var|const|mut)\\b"
        },
        {
            "comment": "'fn' keyword",
            "name": "storage.type.shnootalk",
            "match": "\\b(fn|extfn)\\b"
        },
        {
            "comment": "Function name",
            "match": "\\b([a-zA-Z_][a-zA-Z0-9_]*)\\b\\(",
            "captures": {
                "1": {
                    "name": "entity.name.function.shnootalk"
                }
            }
        },
        {
            "comment": "User defined type definition",
            "begin": "\\b(struct|class)\\s+([a-zA-Z_][a-zA-Z0-9_]*)\\b",
            "end": "\\{",
            "beginCaptures": {
                "1": {
                    "name": "storage.type.shnootalk"
                },
                "2": {
                    "name": "entity.name.type.shnootalk"
                }
            }
        },
        {
            "comment": "Generic declaration",
            "begin": "generic",
            "end": "\\b([a-zA-Z_][a-zA-Z0-9_]*)\\b[^,]",
            "beginCaptures": {
                "0": {
                    "name": "keyword.control.shnootalk"
                }
            },
            "endCaptures": {
                "1": {
                    "name": "entity.name.type.shnootalk"
                }
            },
            "patterns": [
                {
                    "name": "entity.name.type.shnootalk",
                    "match": "\\b([a-zA-Z_][a-zA-Z0-9_]*)\\b"
                }
            ]
        },
        {
            "comment": "Used defined enum and def",
            "name": "storage.type.shnootalk",
            "match": "\\b(enum|def)\\b"
        },
        {
            "comment": "Module scope",
            "match": "\\b([a-zA-Z_][a-zA-Z0-9_]*)\\b(::)",
            "captures": {
                "1": {
                    "name": "entity.name.scope-resolution.shnootalk"
                }
            }
        },
        {
            "comment": "Generic type",
            "begin": "(:|->)",
            "end": "(\\]\\s*[^\\],])|\\n|\\r",
            "patterns": [
                {
                    "include": "#type"
                }
            ]
        },
        {
            "comment": "Type",
            "begin": "(:|->)",
            "end": "\\b([a-zA-Z_][a-zA-Z0-9_]*)\\b[^:]",
            "endCaptures": {
                "1": {
                    "name": "entity.name.type.shnootalk"
                }
            },
            "patterns": [
                {
                    "include": "#type"
                }
            ]
        },
        {
            "comment": "Cast type",
            "match": "\\b([a-zA-Z_][a-zA-Z0-9_]*)\\s*(\\[\\]`|\\*`|`)",
            "captures": {
                "1": {
                    "name": "entity.name.type.shnootalk"
                }
            }
        },
        {
            "comment": "Symbol or identifier",
            "name": "variable.name.shnootalk",
            "match": "\\b([a-zA-Z_][a-zA-Z0-9_]*)\\b"
        }
    ],
    "repository": {
        "type": {
            "patterns": [
                {
                    "match": "\\b([a-zA-Z_][a-zA-Z0-9_]*)\\b(::)",
                    "captures": {
                        "1": {
                            "name": "entity.name.scope-resolution.shnootalk"
                        }
                    }
                },
                {
                    "name": "entity.name.type.shnootalk",
                    "match": "\\b([a-zA-Z_][a-zA-Z0-9_]*)\\b"
                }
            ]
        }
    },
    "scopeName": "source.shnootalk"
}